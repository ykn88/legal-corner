# Migration `20201126084642-total6`

This migration has been generated by ykn88 at 11/26/2020, 2:16:42 PM.
You can check out the [state of the schema](./schema.prisma) after the migration.

## Database Steps

```sql
PRAGMA foreign_keys=OFF;
CREATE TABLE "new_ProductProfile" (
    "headTitle" TEXT,
    "headDesc" TEXT,
    "bodyTitle" TEXT,
    "bodyDesc" TEXT,
    "videoLink" TEXT,
    "productId" INTEGER NOT NULL,

    FOREIGN KEY ("productId") REFERENCES "Product"("id") ON DELETE CASCADE ON UPDATE CASCADE,
    PRIMARY KEY ("productId")
);
INSERT INTO "new_ProductProfile" ("headTitle", "headDesc", "bodyTitle", "bodyDesc", "videoLink", "productId") SELECT "headTitle", "headDesc", "bodyTitle", "bodyDesc", "videoLink", "productId" FROM "ProductProfile";
DROP TABLE "ProductProfile";
ALTER TABLE "new_ProductProfile" RENAME TO "ProductProfile";
CREATE UNIQUE INDEX "ProductProfile_productId_unique" ON "ProductProfile"("productId");
PRAGMA foreign_key_check;
PRAGMA foreign_keys=ON
```

## Changes

```diff
diff --git schema.prisma schema.prisma
migration 20201125122341-total2..20201126084642-total6
--- datamodel.dml
+++ datamodel.dml
@@ -2,9 +2,9 @@
 // learn more about it in the docs: https://pris.ly/d/prisma-schema
 datasource db {
   provider = "sqlite"
-  url = "***"
+  url = "***"
 }
 generator client {
   provider = "prisma-client-js"
@@ -97,16 +97,17 @@
   steps     Steps[]
 }
 model ProductProfile {
-  id         Int       @default(autoincrement())  @id
-  headTitle  String  
-  headDesc   String
-  bodyTitle  String
-  bodyDesc   String
+  headTitle  String?  
+  headDesc   String?
+  bodyTitle  String?
+  bodyDesc   String?
   videoLink  String?
-  product    Product?  @relation(fields: [productId], references: [id])
-  productId  Int?
+  product    Product  @relation(fields: [productId], references: [id])
+  productId  Int
+  @@id([productId])
+
 }
 model Faq {
   id         Int       @default(autoincrement())  @id
```


